<div class="card p-4 bg-white rounded-2xl shadow-md">
    <p-table
    [value]="data()"
    [paginator]="true"
    [rows]="10"
    [tableStyle]="{ 'min-width': '50rem' }"
    [rowsPerPageOptions]="[5, 10, 20]"
    class="w-full"
    >
    <ng-template #header>
        <tr class="bg-gray-300 text-left text-gray-800 uppercase text-sm">
            @for (col of columns; track col.field) {
                @if (col.type !== 'actions') {
                <th class="px-4 py-3 font-semibold border-b border-gray-200">{{ col.header }}</th>
                }
            }
            @if (showActions) {
            <th class="px-4 py-3 font-semibold border-b border-gray-200 text-center">
            Acciones
            </th>
            }
        </tr>
    </ng-template>

    <ng-template #body let-item @rowIndex>
        <tr class="odd:bg-cyan-50 even:bg-black-400 hover:bg-orange-300 transition-colors"
        >
            @for (col of columns; track col.field) {
                @if (col.type !== 'actions') {
                    <td class="px-4 py-2 border-b border-gray-100 text-sm text-gray-800">
                        @switch (col.type) {
                            @case ('number') {
                            {{ item[col.field] | number }}
                            }
                            @case ('string') {
                            {{ item[col.field] }}
                            }
                            @default {
                            {{ item[col.field] }}
                            }
                        }
                    </td>
                }
            }
            @if (showActions) {
                    <td class="px-4 py-2 border-b border-gray-100 text-center space-x-2">
                    <button
                        class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm"
                        (click)="onEdit(item)"
                    >
                        Editar
                    </button>
                    <button
                        class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm"
                        (click)="onDelete($event, item)"
                    >
                        Eliminar
                    </button>
                    </td>
                }
        </tr>
    </ng-template>
    </p-table>
</div>


<p-confirmdialog />

